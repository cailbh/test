<!DOCTYPE>
<html>
    <head>
        <meta charset="utf-8">
        <title>column diagram</title>
        <script type="text/javascript" src="http://d3js.org/d3.v5.min.js"></script>
    </head>
    <body>
        <p id="demo"></p>
        <svg width="960" height="600"></svg> 
        <script>
            var svg=d3.select("svg");
            var width=svg.attr("width");
            var height=svg.attr("height");
            var marge={top:60,bottom:60,left:60,right:60};
            var g=svg.append("g")
                .attr("transform","translate("+marge.top+","+marge.left+")");

            var beijing=
            {
                beijing2013:
                {
                    Gdp0101:19500.56,Gdp0102:161.83,Gdp0103:4352.3,Gdp0104:3536.89,Gdp0105:815.41,Gdp0106:14986.43,Gdp0107:883.58,Gdp0108:2372.43,Gdp0109:374.75,Gdp0110:2822.07,Gdp0111:1339.52,Gdp0112:7194.08,Gdp0113:0.8,Gdp0114:22.3,Gdp0115:76.9,Gdp0116:93213,Gdp0126:107.7,Gdp0127:103,Gdp0128:108.1,Gdp0131:107.6
                },
                beijing2012:
                {
                    Gdp0101:17879.4,Gdp0102:150.2,Gdp0103:4059.27,Gdp0104:3294.32,Gdp0105:764.95,Gdp0106:13669.93,Gdp0107:816.31,Gdp0108:2229.77,Gdp0109:373.06,Gdp0110:2536.91,Gdp0111:1244.17,Gdp0112:6469.71,Gdp0113:0.84,Gdp0114:22.7,Gdp0115:76.46,Gdp0116:87475,Gdp0126:107.7,Gdp0127:103.2,Gdp0128:107.5,Gdp0131:107.9
                },
                beijing2011:
                {
                    Gdp0101:16251.93,Gdp0102:136.27,Gdp0103:3752.48,Gdp0104:3048.79,Gdp0105:703.69,Gdp0106:12363.18,Gdp0107:808.95,Gdp0108:2139.65,Gdp0109:348.42,Gdp0110:2215.41,Gdp0111:1074.93,Gdp0112:5775.82,Gdp0113:0.8,Gdp0114:23.1,Gdp0115:76.1,Gdp0116:81658,Gdp0126:108.1,Gdp0127:100.9,Gdp0128:106.7,Gdp0131:108.7
                },
                beijing2010:
                {
                    Gdp0101:14113.58,Gdp0102:124.36,Gdp0103:3388.38,Gdp0104:2763.99,Gdp0105:624.39,Gdp0106:10600.84,Gdp0107:712.01,Gdp0108:1888.51,Gdp0109:317.34,Gdp0110:1863.61,Gdp0111:1006.52,Gdp0112:4812.85,Gdp0113:0.9,Gdp0114:24,Gdp0115:75.1,Gdp0116:75943,Gdp0126:110.3,Gdp0127:98.4,Gdp0128:113.7,Gdp0131:109.3
                },
                beijing2009:
                {
                    Gdp0101:12153.03,Gdp0102:118.29,Gdp0103:2855.55,Gdp0104:2303.08,Gdp0105:552.47,Gdp0106:9179.19,Gdp0107:556.64,Gdp0108:1525.03,Gdp0109:262.51,Gdp0110:1603.63,Gdp0111:1062.47,Gdp0112:4168.91,Gdp0113:1,Gdp0114:23.5,Gdp0115:75.5,Gdp0116:70452,Gdp0126:110.2,Gdp0127:104.6,Gdp0128:110.4,Gdp0131:110.2
                },
                beijing2008:
                {
                    Gdp0101:11115,Gdp0102:112.81,Gdp0103:2693.15,Gdp0104:2198.49,Gdp0105:494.66,Gdp0106:7682.07,Gdp0107:505.74,Gdp0108:1060.92,Gdp0109:277.52,Gdp0110:1493.58,Gdp0111:610.84,Gdp0112:3733.47,Gdp0113:1.1,Gdp0114:25.7,Gdp0115:73.2,Gdp0116:63029,Gdp0126:109.1,Gdp0127:101.1,Gdp0128:102.4,Gdp0131:111.7
                },
                beijing2007:
                {
                    Gdp0101:9846.81,Gdp0102:101.26,Gdp0103:2509.4,Gdp0104:2082.76,Gdp0105:426.64,Gdp0106:6742.66,Gdp0107:502.61,Gdp0108:879.42,Gdp0109:247.01,Gdp0110:1286.28,Gdp0111:644.24,Gdp0112:3183.1,Gdp0113:1.1,Gdp0114:26.8,Gdp0115:72.1,Gdp0116:58204,Gdp0126:114.5,Gdp0127:102.2,Gdp0128:112.7,Gdp0131:113.7854
                },
                beijing2006:
                {
                    Gdp0101:8117.78,Gdp0102:98.04,Gdp0103:2191.43,Gdp0104:1821.86,Gdp0105:369.57,Gdp0106:5580.81,Gdp0107:458.29,Gdp0108:751.91,Gdp0109:219.61,Gdp0110:974.06,Gdp0111:559.82,Gdp0112:2617.12,Gdp0113:1.3,Gdp0114:27.8,Gdp0115:70.9,Gdp0116:50467,Gdp0126:113,Gdp0127:100.6,Gdp0128:110.5,Gdp0131:114.1
                },
                beijing2005:
                {
                    Gdp0101:6969.52,Gdp0102:97.99,Gdp0103:2026.51,Gdp0104:1707.04,Gdp0105:319.47,Gdp0106:4761.81,Gdp0107:404.66,Gdp0108:654.09,Gdp0109:182.81,Gdp0110:836.62,Gdp0111:455.31,Gdp0112:2228.32,Gdp0113:1.4,Gdp0114:29.5,Gdp0115:69.1,Gdp0116:45443.6929,Gdp0126:112.1,Gdp0127:99.2387,Gdp0128:110.1294,Gdp0131:113.0088
                },
                beijing2004:
                {
                    Gdp0101:6060.28,Gdp0102:102.9,Gdp0103:1610.37,Gdp0104:1290.16,Gdp0105:320.21,Gdp0106:2570.04,Gdp0107:283.09,Gdp0108:305.03,Gdp0109:'',Gdp0110:598.57,Gdp0111:228.44,Gdp0112:1154.91,Gdp0113:2.4023,Gdp0114:37.5964,Gdp0115:60.0013,Gdp0116:37058,Gdp0126:114.1,Gdp0127:101.9114,Gdp0128:116.6504,Gdp0131:111.6042
                },
                beijing2003:
                {
                    Gdp0101:5023.77,Gdp0102:95.64,Gdp0103:1311.86,Gdp0104:1032.03,Gdp0105:279.83,Gdp0106:2255.6,Gdp0107:253.8,Gdp0108:567.09,Gdp0109:'',Gdp0110:635.56,Gdp0111:190.55,Gdp0112:1441.15,Gdp0113:2.6109,Gdp0114:35.8128,Gdp0115:61.5763,Gdp0116:32061,Gdp0126:111,Gdp0127:103.3136,Gdp0128:111.9155,Gdp0131:110.8
                },
                beijing2002:
                {
                    Gdp0101:4330.4,Gdp0102:98.05,Gdp0103:1116.53,Gdp0104:874.15,Gdp0105:242.38,Gdp0106:1998.13,Gdp0107:235.56,Gdp0108:509.68,Gdp0109:'',Gdp0110:561.91,Gdp0111:163.12,Gdp0112:1220.26,Gdp0113:3.05,Gdp0114:34.75,Gdp0115:62.19,Gdp0116:28449,Gdp0126:111.5208,Gdp0127:105,Gdp0128:108.5,Gdp0131:113.3
                },
                beijing2001:
                {
                    Gdp0101:3710.52,Gdp0102:93.08,Gdp0103:1030.6,Gdp0104:816.24,Gdp0105:214.36,Gdp0106:1721.97,Gdp0107:218.53,Gdp0108:459.11,Gdp0109:'',Gdp0110:487.54,Gdp0111:111.03,Gdp0112:978.49,Gdp0113:3.3,Gdp0114:36.2,Gdp0115:60.5,Gdp0116:25523,Gdp0126:111.7052,Gdp0127:104.4904,Gdp0128:109.4159,Gdp0131:113.1
                },
                beijing2000:
                {
                    Gdp0101:2478.76,Gdp0102:89.97,Gdp0103:943.51,Gdp0104:745.32,Gdp0105:198.19,Gdp0106:1445.28,Gdp0107:190.12,Gdp0108:406.38,Gdp0109:'',Gdp0110:425.19,Gdp0111:77.37,Gdp0112:776.88,Gdp0113:3.6296,Gdp0114:38.0638,Gdp0115:58.3066,Gdp0116:22459.6566,Gdp0126:110.9846,Gdp0127:103.9974,Gdp0128:111.3549,Gdp0131:112.9
                },

                sum:function()
                {
                    var sum=0;
                    for(x in beijing)
                    {
                        console.log(x);
                        for(y in beijing[x])
                        {
                            console.log(y);
                            if((beijing[x][y]>=0)&&(beijing[x][y]!=''))
                            {
                                console.log(sum)
                                sum+=parseFloat(beijing[x][y]);
                            }
                        }
                    }
                    return sum
                }
            }
            console.log(beijing)
            document.write(beijing.sum());
        </script>
    </body>
</html>